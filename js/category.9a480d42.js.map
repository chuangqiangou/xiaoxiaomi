{"version":3,"sources":["webpack:///./src/views/Category.vue?8bdc","webpack:///src/views/Category.vue","webpack:///./src/views/Category.vue?37ac","webpack:///./src/views/Category.vue","webpack:///./src/views/Category.vue?5a08"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","cate","ref","_l","item","index","key","class","current","on","$event","changeCur","_v","_s","category_name","view_type","body","_e","style","width","w","height","h","items","img_url","product","product_name","staticRenderFns","component"],"mappings":"0IAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,KAAK,aAAa,KAAK,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,QAAQ,KAAO,UAAUC,KAAK,WAAW,GAAIR,EAAIS,KAAW,OAAEL,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACM,IAAI,OAAOJ,YAAY,QAAQN,EAAIW,GAAIX,EAAQ,MAAE,SAASY,EAAKC,GAAO,OAAOT,EAAG,MAAM,CAACU,IAAID,EAAMP,YAAY,OAAOS,MAAM,CAAC,OAASF,GAAOb,EAAIgB,SAASC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAImB,UAAUN,MAAU,CAACb,EAAIoB,GAAG,IAAIpB,EAAIqB,GAAGT,EAAKU,eAAe,UAAS,GAAGlB,EAAG,MAAM,CAACE,YAAY,SAASN,EAAIW,GAAIX,EAAIS,KAAKT,EAAIgB,SAAsB,eAAE,SAASJ,EAAKC,GAAO,OAAOT,EAAG,MAAM,CAACU,IAAID,GAAO,CAAkB,kBAAhBD,EAAKW,UAA6BnB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIoB,GAAG,IAAIpB,EAAIqB,GAAGT,EAAKY,KAAKF,eAAe,OAAOtB,EAAIyB,KAAsB,mBAAhBb,EAAKW,UAA8BnB,EAAG,MAAM,CAACA,EAAG,MAAM,CAACsB,MAAM,CAAEC,MAAMf,EAAKY,KAAKI,EAAE,IAAI,MAAMC,OAAOjB,EAAKY,KAAKM,EAAE,IAAI,OAAQvB,MAAM,CAAC,IAAMK,EAAKY,KAAKO,MAAM,GAAGC,QAAQ,IAAM,QAAQhC,EAAIyB,KAAsB,kBAAhBb,EAAKW,UAA6BnB,EAAG,MAAM,CAACE,YAAY,SAASN,EAAIW,GAAIC,EAAKY,KAAU,OAAE,SAASS,EAAQpB,GAAO,OAAOT,EAAG,MAAM,CAACU,IAAImB,EAAQC,aAAarB,EAAMP,YAAY,UAAU,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM0B,EAAQD,QAAQ,MAAQ,MAAM,IAAM,MAAM5B,EAAG,IAAI,CAACJ,EAAIoB,GAAGpB,EAAIqB,GAAGY,EAAQC,sBAAqB,GAAGlC,EAAIyB,UAAS,KAAKzB,EAAIyB,MAAM,IACl1CU,EAAkB,GCoCtB,GACE,KADF,WACI,MAAJ,CACM,KAAN,GACM,QAAN,IAEE,QALF,WAMI,KAAJ,WAEE,QAAF,CACI,UADJ,SACA,GACM,KAAN,UACM,IAAN,kBACA,2CACA,OACA,iBACM,EAAN,4CAII,QAXJ,WAWM,IAAN,OACM,KAAN,8BACA,kBAEQ,EAAR,oBAEA,mBACQ,QAAR,aC/DkV,I,wBCQ9UC,EAAY,eACd,EACArC,EACAoC,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,2CCnBf,yBAAue,EAAG","file":"js/category.9a480d42.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"category\"},[_c('van-nav-bar',{attrs:{\"title\":\"分类\",\"left-arrow\":\"\"}},[_c('van-icon',{attrs:{\"slot\":\"right\",\"name\":\"search\"},slot:\"right\"})],1),(_vm.cate.length)?_c('div',{staticClass:\"content\"},[_c('div',{ref:\"left\",staticClass:\"left\"},_vm._l((_vm.cate),function(item,index){return _c('div',{key:index,staticClass:\"item\",class:{'active':index==_vm.current},on:{\"click\":function($event){return _vm.changeCur(index)}}},[_vm._v(\" \"+_vm._s(item.category_name)+\" \")])}),0),_c('div',{staticClass:\"right\"},_vm._l((_vm.cate[_vm.current].category_list),function(item,index){return _c('div',{key:index},[(item.view_type=='category_title')?_c('div',{staticClass:\"category_title\"},[_vm._v(\" \"+_vm._s(item.body.category_name)+\" \")]):_vm._e(),(item.view_type=='cells_auto_fill')?_c('div',[_c('img',{style:({width:item.body.w/100+'rem',height:item.body.h/100+'rem'}),attrs:{\"src\":item.body.items[0].img_url,\"alt\":\"\"}})]):_vm._e(),(item.view_type=='category_group')?_c('div',{staticClass:\"group\"},_vm._l((item.body.items),function(product,index){return _c('div',{key:product.product_name+index,staticClass:\"col-33\"},[_c('img',{attrs:{\"src\":product.img_url,\"width\":\"80%\",\"alt\":\"\"}}),_c('p',[_vm._v(_vm._s(product.product_name))])])}),0):_vm._e()])}),0)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"category\">\r\n     <van-nav-bar  title=\"分类\" left-arrow>\r\n        <van-icon name=\"search\" slot=\"right\" />\r\n     </van-nav-bar>\r\n     <div class=\"content\" v-if=\"cate.length\">\r\n         <div class=\"left\"  ref=\"left\">\r\n             <div class=\"item\" \r\n             v-for=\"(item,index) in cate\"  \r\n             :key=\"index\"\r\n             :class=\"{'active':index==current}\"\r\n             @click=\"changeCur(index)\"\r\n             >\r\n                 {{item.category_name}}\r\n            </div>\r\n         </div>\r\n         <div class=\"right\">\r\n             <!-- {{cate[current].category_name}} -->\r\n             <div v-for=\"(item,index) in cate[current].category_list\" :key=\"index\">\r\n                 <div  v-if=\"item.view_type=='category_title'\" class=\"category_title\">\r\n                     {{item.body.category_name}}\r\n                 </div>\r\n                 <div v-if=\"item.view_type=='cells_auto_fill'\">\r\n                     <img :src=\"item.body.items[0].img_url\" :style=\"{width:item.body.w/100+'rem',height:item.body.h/100+'rem'}\" alt=\"\">\r\n                 </div>\r\n                <div v-if=\"item.view_type=='category_group'\" class=\"group\">\r\n                    <div class=\"col-33\" v-for=\"(product,index) in item.body.items\" :key=\"product.product_name+index\">\r\n                        <img :src=\"product.img_url\" width=\"80%\" alt=\"\">\r\n                        <p>{{product.product_name}}</p>\r\n                    </div>                    \r\n                 </div>                \r\n             </div>\r\n         </div>\r\n     </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){ return {\r\n        cate:[],//分类信息\r\n        current:0,// 当前被选择的item       \r\n    }},  \r\n    created(){\r\n        this.getCate();\r\n    },\r\n    methods:{\r\n        changeCur(index){\r\n            this.current = index;\r\n            let left = this.$refs.left; //选择到left\r\n            let items = document.querySelectorAll(\".left .item\"); //选择到items\r\n            let el = items[index] //当前被单击的item\r\n            let leftH = left.offsetHeight;//left 高\r\n            left.scrollTop = el.offsetTop-leftH/2-el.offsetHeight/2;\r\n            // 设置left顶部滚动的高是=当前单击元素与left顶部的距离-left高度一般-单击元素自己高度一般\r\n        },\r\n        // 获取分类\r\n        getCate(){\r\n            this.$http.get(\"/mi/category.php\")\r\n            .then(res=>{\r\n                // console.log(res.data);\r\n                this.cate = res.data.data;\r\n            })\r\n            .catch(err=>{\r\n                console.log(err);\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n    .group{\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n    }\r\n    .col-33{\r\n        width: 33.333%;\r\n        flex-basis: 33.333%;\r\n        max-width:  33.333%;\r\n        /* 固定宽1/3 */\r\n        text-align: center;\r\n        padding: .20rem;\r\n        /* 文字居中有点间距 */\r\n        box-sizing: border-box; /* 宽度从边框开始*/\r\n    }\r\n    .col-33 p{\r\n        font-size: .24rem; \r\n        color:#333; /* 文字小点，深灰色*/\r\n        text-overflow: ellipsis;  /* 文字超出省略... 下面的两行也要写*/\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n    }\r\n    .category_title{text-align: center; line-height: .88rem; margin:.30rem 0;}\r\n     .item.active{color:#f30}\r\n     /* 元素即拥有item 也拥有 active  class类名*/\r\n    .category{ display: flex; flex-direction: column;  }\r\n    .content{ flex:1; /* 自适应高 */ display: flex; height: 100%; overflow:hidden; }\r\n    .left{  width:1.5rem; height: 100%; overflow: auto; border-right: 1px solid #fafafa; /*宽1.5rem 高100%； 超出高度隐藏 有边框*/ \r\n    scroll-behavior: smooth;\r\n    /* left滚动平滑 */\r\n    }\r\n    .left::-webkit-scrollbar{ display:none;}\r\n    /* left 滚动条隐藏 */\r\n    \r\n    .right{ flex:1; /* 自适应宽 */ height: 100%; overflow: auto; }\r\n    .left .item{\r\n        height: .88rem;\r\n        line-height: .88rem;\r\n        text-align: center;\r\n        font-size: .24rem;\r\n        border-bottom:1px solid #fafafa;\r\n        /* 高.88rem，行高.88rem; 文字居中  文字大小.12rem  下边框 */\r\n\r\n    }\r\n</style>\r\n\r\n ","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Category.vue?vue&type=template&id=3f851f48&scoped=true&\"\nimport script from \"./Category.vue?vue&type=script&lang=js&\"\nexport * from \"./Category.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Category.vue?vue&type=style&index=0&id=3f851f48&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f851f48\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=style&index=0&id=3f851f48&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=style&index=0&id=3f851f48&scoped=true&lang=css&\""],"sourceRoot":""}